# TESTE BASE 0 - Fluxo Completo de CriaÃ§Ã£o de Obra

## ğŸ¯ Objetivo
Testar criaÃ§Ã£o de obra com cliente, grua(s), gestor, funcionÃ¡rios e registros de atividades.

## âœ… PrÃ©-requisitos
- Cliente cadastrado
- Grua(s) cadastrada(s)
- UsuÃ¡rio Gestor com permissÃµes
- FuncionÃ¡rio(s) vinculados a usuÃ¡rios
- Backend e Frontend rodando

---

## ğŸ“ ETAPA 1: Criar Obra (como Gestor)

### NavegaÃ§Ã£o:
**Dashboard > Obras > Nova Obra**

### AÃ§Ãµes:

**Aba "Dados da Obra":**
1. Preencher Nome da Obra *
2. Preencher EndereÃ§o *
3. Preencher Cidade * (ex: SÃ£o Paulo)
4. Selecionar Estado * (ex: SP)
5. Selecionar Tipo * (Residencial/Comercial/Industrial/Infraestrutura)
6. Buscar e selecionar Cliente *
7. Preencher demais campos (Data InÃ­cio, OrÃ§amento, DescriÃ§Ã£o, etc.)
8. Selecionar ResponsÃ¡vel/Gestor

**Aba "Grua":**
1. Clicar "Adicionar Grua"
2. Buscar e selecionar grua
3. Informar Valor de LocaÃ§Ã£o (ex: 15000)
4. Informar Taxa Mensal (ex: 15000)
5. Clicar "Adicionar"
6. Repetir para adicionar mais gruas (opcional)

**Aba "FuncionÃ¡rios":**
1. Clicar "Adicionar FuncionÃ¡rio"
2. Buscar funcionÃ¡rio
3. Selecionar funÃ§Ã£o
4. Clicar "Adicionar"
5. Repetir para pelo menos 2 funcionÃ¡rios

**Aba "Custos Mensais":**
1. Item: `01.01` (mÃ¡x 20 caracteres)
2. DescriÃ§Ã£o: `LocaÃ§Ã£o de grua torre`
3. Unidade: `mÃªs`
4. Quantidade: `6`
5. Valor UnitÃ¡rio: `15000`
6. Selecionar mÃªs
7. Clicar "Adicionar Custo"
8. Adicionar mais 2-3 itens

**Finalizar:**
- Clicar "Criar Obra"
- Verificar toast de sucesso

---

## ğŸ’° ETAPA 2: Adicionar Custos (como Gestor)

### NavegaÃ§Ã£o:
**Dashboard > Obras > [Clicar na obra criada] > Aba "Custos Mensais"**

### AÃ§Ãµes:
1. Selecionar mÃªs
2. Clicar "Novo Custo"
3. Item: `01.02`
4. DescriÃ§Ã£o: `MÃ£o de obra especializada`
5. Unidade: `mÃªs`
6. Quantidade: `6`
7. Valor UnitÃ¡rio: `8000`
8. Clicar "Salvar"

**Testar erro de duplicaÃ§Ã£o:**
1. Tentar adicionar item `01.02` novamente no mesmo mÃªs
2. Verificar mensagem de erro clara

---

## ğŸ“„ ETAPA 3: Upload de Documentos (como Gestor)

### NavegaÃ§Ã£o:
**Dashboard > Assinaturas > Novo Documento**

### AÃ§Ãµes:
1. TÃ­tulo: `Contrato de LocaÃ§Ã£o`
2. DescriÃ§Ã£o: `Contrato de locaÃ§Ã£o da grua torre`
3. Selecionar Obra criada
4. Upload arquivo PDF (mÃ¡x 50MB)
5. Configurar ordem de assinatura:
   - Gestor (ordem 1)
   - Cliente (ordem 2)
6. Clicar "Criar Documento"
7. Verificar status "Pendente"

---

## ğŸ“– ETAPA 4: Registrar Livro de Grua (como FuncionÃ¡rio)

### NavegaÃ§Ã£o:
1. Fazer logout do Gestor
2. Login com usuÃ¡rio FuncionÃ¡rio
3. **Dashboard > Gruas > [Selecionar grua] > Livro de Grua**

### AÃ§Ãµes - Entrada 1:
1. Verificar funcionÃ¡rio auto-selecionado
2. Data: hoje
3. Hora: `08:00`
4. Tipo: `Checklist`
5. Status: `OK`
6. DescriÃ§Ã£o: `VerificaÃ§Ã£o prÃ©-operacional realizada`
7. Clicar "Salvar"

### AÃ§Ãµes - Entrada 2:
1. Clicar "Nova Entrada"
2. Tipo: `ManutenÃ§Ã£o`
3. Status: `ManutenÃ§Ã£o`
4. DescriÃ§Ã£o: `LubrificaÃ§Ã£o preventiva programada`
5. ResponsÃ¡vel: `JoÃ£o Silva`
6. Salvar

---

## ğŸ“ ETAPA 5: Upload de Arquivos (como Cliente ou Gestor)

### NavegaÃ§Ã£o:
**Dashboard > Obras > [Selecionar obra] > Aba "Arquivos"**

### AÃ§Ãµes:
1. Clicar "Fazer Upload"
2. Selecionar arquivo (PDF, imagem, Word, Excel - mÃ¡x 100MB)
3. Selecionar categoria
4. Adicionar descriÃ§Ã£o (opcional)
5. Clicar "Enviar"
6. Verificar arquivo na lista

---

## âœ… Checklist Final

- [âœ…] Obra criada com cidade, estado e tipo
- [âœ…] Grua(s) vinculada(s)
- [âœ…] FuncionÃ¡rios alocados
- [âœ…] Custos mensais adicionados
- [âœ…] Item duplicado bloqueado
- [âœ…] Documento PDF criado
- [âœ…] Livro de grua registrado por funcionÃ¡rio
- [âœ…] Arquivos enviados

---

## ğŸ“‹ Resultado

**Data:** __23/10/2025___
**Status:** [ âœ… ] âœ… APROVADO  [ ] âŒ REPROVADO

**Bugs encontrados:**
Listagem dos custos + duplicaÃ§oes âœ…  
Permissoes dos usuarios para visualizar os documentos âœ… 
_______________________________________
_______________________________________

