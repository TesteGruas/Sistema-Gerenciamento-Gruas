# TESTE BASE 0 - Fluxo Completo de Cria√ß√£o de Obra

## üéØ Objetivo
Testar cria√ß√£o de obra com cliente, grua(s), gestor, funcion√°rios e registros de atividades.

## ‚úÖ Pr√©-requisitos
- Cliente cadastrado
- Grua(s) cadastrada(s)
- Usu√°rio Gestor com permiss√µes
- Funcion√°rio(s) vinculados a usu√°rios
- Backend e Frontend rodando

---

## üìù ETAPA 1: Criar Obra (como Gestor)

### Navega√ß√£o:
**Dashboard > Obras > Nova Obra**

### A√ß√µes:

**Aba "Dados da Obra":**
1. Preencher Nome da Obra *
2. Preencher Endere√ßo *
3. Preencher Cidade * (ex: S√£o Paulo)
4. Selecionar Estado * (ex: SP)
5. Selecionar Tipo * (Residencial/Comercial/Industrial/Infraestrutura)
6. Buscar e selecionar Cliente *
7. Preencher demais campos (Data In√≠cio, Or√ßamento, Descri√ß√£o, etc.)
8. Selecionar Respons√°vel/Gestor

**Aba "Grua":**
1. Clicar "Adicionar Grua"
2. Buscar e selecionar grua
3. Informar Valor de Loca√ß√£o (ex: 15000)
4. Informar Taxa Mensal (ex: 15000)
5. Clicar "Adicionar"
6. Repetir para adicionar mais gruas (opcional)

**Aba "Funcion√°rios":**
1. Clicar "Adicionar Funcion√°rio"
2. Buscar funcion√°rio
3. Selecionar fun√ß√£o
4. Clicar "Adicionar"
5. Repetir para pelo menos 2 funcion√°rios

**Aba "Custos Mensais":**
1. Item: `01.01` (m√°x 20 caracteres)
2. Descri√ß√£o: `Loca√ß√£o de grua torre`
3. Unidade: `m√™s`
4. Quantidade: `6`
5. Valor Unit√°rio: `15000`
6. Selecionar m√™s
7. Clicar "Adicionar Custo"
8. Adicionar mais 2-3 itens

**Finalizar:**
- Clicar "Criar Obra"
- Verificar toast de sucesso

---

## üí∞ ETAPA 2: Adicionar Custos (como Gestor)

### Navega√ß√£o:
**Dashboard > Obras > [Clicar na obra criada] > Aba "Custos Mensais"**

### A√ß√µes:
1. Selecionar m√™s
2. Clicar "Novo Custo"
3. Item: `01.02`
4. Descri√ß√£o: `M√£o de obra especializada`
5. Unidade: `m√™s`
6. Quantidade: `6`
7. Valor Unit√°rio: `8000`
8. Clicar "Salvar"

**Testar erro de duplica√ß√£o:**
1. Tentar adicionar item `01.02` novamente no mesmo m√™s
2. Verificar mensagem de erro clara

---

## üìÑ ETAPA 3: Upload de Documentos (como Gestor)

### Navega√ß√£o:
**Dashboard > Assinaturas > Novo Documento**

### A√ß√µes:
1. T√≠tulo: `Contrato de Loca√ß√£o`
2. Descri√ß√£o: `Contrato de loca√ß√£o da grua torre`
3. Selecionar Obra criada
4. Upload arquivo PDF (m√°x 50MB)
5. Configurar ordem de assinatura:
   - Gestor (ordem 1)
   - Cliente (ordem 2)
6. Clicar "Criar Documento"
7. Verificar status "Pendente"

---

## üìñ ETAPA 4: Registrar Livro de Grua (como Funcion√°rio)

### Navega√ß√£o:
1. Fazer logout do Gestor
2. Login com usu√°rio Funcion√°rio
3. **Dashboard > Gruas > [Selecionar grua] > Livro de Grua**

### A√ß√µes - Entrada 1:
1. Verificar funcion√°rio auto-selecionado
2. Data: hoje
3. Hora: `08:00`
4. Tipo: `Checklist`
5. Status: `OK`
6. Descri√ß√£o: `Verifica√ß√£o pr√©-operacional realizada`
7. Clicar "Salvar"

### A√ß√µes - Entrada 2:
1. Clicar "Nova Entrada"
2. Tipo: `Manuten√ß√£o`
3. Status: `Manuten√ß√£o`
4. Descri√ß√£o: `Lubrifica√ß√£o preventiva programada`
5. Respons√°vel: `Jo√£o Silva`
6. Salvar

---

## üìÅ ETAPA 5: Upload de Arquivos (como Cliente ou Gestor)

### Navega√ß√£o:
**Dashboard > Obras > [Selecionar obra] > Aba "Arquivos"**

### A√ß√µes:
1. Clicar "Fazer Upload"
2. Selecionar arquivo (PDF, imagem, Word, Excel - m√°x 100MB)
3. Selecionar categoria
4. Adicionar descri√ß√£o (opcional)
5. Clicar "Enviar"
6. Verificar arquivo na lista

---

## ‚úÖ Checklist Final

- [ ] Obra criada com cidade, estado e tipo
- [ ] Grua(s) vinculada(s)
- [ ] Funcion√°rios alocados
- [ ] Custos mensais adicionados
- [ ] Item duplicado bloqueado
- [ ] Documento PDF criado
- [ ] Livro de grua registrado por funcion√°rio
- [ ] Arquivos enviados

---

## üìã Resultado

**Data:** ___/___/______

**Testador:** _____________________

**Status:** [ ] ‚úÖ APROVADO  [ ] ‚ùå REPROVADO

**Bugs encontrados:**
_______________________________________
_______________________________________

